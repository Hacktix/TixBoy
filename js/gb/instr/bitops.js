//-------------------------------------------------------------------------------
// RRA
//-------------------------------------------------------------------------------
funcmap[0x1f] = () => {
    let rv = registers.flag_c ? (1 << 7) : 0;
    registers.flag_c = (registers.a & 1) > 0;
    registers.a = (registers.a >> 1) | rv;
    registers.flag_h = registers.flag_n = registers.flag_z = false;
    //console.log(`  RRA`);
};

//-------------------------------------------------------------------------------
// CPL
//-------------------------------------------------------------------------------
funcmap[0x2f] = () => {
    registers.a = ~registers.a
    registers.flag_n = registers.flag_h = true;
}

//-------------------------------------------------------------------------------
// SCF
//-------------------------------------------------------------------------------
funcmap[0x37] = () => {
    registers.flag_n = registers.flag_h = false;
    registers.flag_c = true;
}

//-------------------------------------------------------------------------------
// CCF
//-------------------------------------------------------------------------------
funcmap[0x3f] = () => {
    registers.flag_n = registers.flag_h = false;
    registers.flag_c = !registers.flag_c;
}